import{$ as u,A as x,Ba as ie,C as g,Ca as oe,D as C,Da as V,Fa as re,Ga as ae,H as e,Ha as le,I as b,K as O,Ka as ce,L as r,M as l,Ma as pe,N as a,Na as se,O as h,Oa as de,P as F,Q as B,Qa as me,R as D,Ra as ue,S as I,Sa as M,T as _,Ta as ge,U as f,Ua as Ce,V as G,Va as he,W as Y,Wa as _e,X as $,Xa as fe,Y as y,Ya as Me,Z as d,Za as ve,_ as w,_a as Oe,aa as Q,ab as ye,ba as W,bb as Se,ca as J,cb as Pe,da as N,db as Ee,e as R,ea as X,eb as P,fa as q,g as L,ga as s,ha as m,ia as S,ja as k,na as K,oa as H,pa as Z,qa as ee,ra as te,sa as ne,t as z,u as U,w as E,z as j}from"./chunk-TMD55DMN.js";var Ae=["dialog"],be=()=>({count:2}),Te=(t,n)=>({x:t,y:n}),Fe=t=>({x:t,y:3});function Be(t,n){if(t&1&&(l(0,"div",9),d(1),s(2,"translate"),a()),t&2){let p=n.$implicit;e(),u(" ",S(2,1,"BASE.SPECIAL_MODE.INSPIRATIONS.X_OF_Y_ACTIVE",X(4,Fe,p))," ")}}function De(t,n){if(t&1&&(F(0),h(1,"div",11),l(2,"div",6)(3,"h3")(4,"span",28),d(5),s(6,"translate"),a(),d(7),s(8,"translate"),a(),l(9,"div",29),h(10,"dnd-input-inspiration",30,3)(12,"dnd-input-inspiration",30,4)(14,"dnd-input-inspiration",30,5),a(),O(16,Be,3,6,"div",31),a(),B()),t&2){let p=y(11),c=y(13),o=y(15);e(5),w(m(6,9,"BASE.SPECIAL_MODE.DIALOG.PREMIUM")),e(2),u(" ",S(8,11,"BASE.SPECIAL_MODE.INSPIRATIONS.TITLE",N(14,be))," "),e(3),r("value",!0)("specialMode",!0),e(2),r("value",!0)("specialMode",!0),e(2),r("value",!0)("specialMode",!0),e(2),r("ngLet",(p.value?1:0)+(c.value?1:0)+(o.value?1:0))}}function Ne(t,n){if(t&1&&h(0,"dnd-input-number",32),t&2){let p=f();r("formControl",p.platinumFormControl)}}function ke(t,n){if(t&1&&D(0,33),t&2){f();let p=y(37);r("ngTemplateOutlet",p)}}function Ve(t,n){if(t&1&&D(0,33),t&2){f();let p=y(39);r("ngTemplateOutlet",p)}}function Re(t,n){if(t&1){let p=I();l(0,"h4",34),d(1),s(2,"translate"),a(),l(3,"p",35),d(4),s(5,"translate"),a(),l(6,"div",36)(7,"dnd-button",37),_("click",function(){g(p);let o=f();return C(o.closeDialog())}),a(),l(8,"dnd-button",38),_("click",function(){g(p);let o=f();return C(o.updateCurrency("0"))}),a()()}t&2&&(e(),u(" ",m(2,3,"BASE.ACTIONS.RESET")," "),e(3),u(" ",m(5,5,"BASE.CURRENCY.RESET")," "),e(4),r("alternateStyle",!0))}function Le(t,n){if(t&1){let p=I();l(0,"h4",39),d(1),s(2,"translate"),a(),l(3,"p",35)(4,"span",40),d(5),s(6,"translate"),l(7,"span",28),d(8),s(9,"translate"),a()(),h(10,"br"),d(11),s(12,"translate"),a(),l(13,"div",36)(14,"dnd-button",41),_("click",function(){g(p);let o=f();return C(o.closeDialog())}),a(),l(15,"dnd-button",42),_("click",function(){g(p);let o=f();return C(o.confirmSpecialDialog())}),a()()}t&2&&(e(),u(" ",m(2,5,"BASE.SPECIAL_MODE.DIALOG.TITLE")," "),e(4),u(" ",m(6,7,"BASE.SPECIAL_MODE.DIALOG.SUBTITLE")," "),e(3),u(" ",m(9,9,"BASE.SPECIAL_MODE.DIALOG.PREMIUM")," "),e(3),u(" ",m(12,11,"BASE.SPECIAL_MODE.DIALOG.DESCRIPTION")," "),e(4),r("alternateStyle",!0))}var Ie=(()=>{let n=class n{constructor(c,o,i){this.formBuilder=c,this.currencyService=o,this.dataService=i,this.inspirationsAvailable=1,this.inspirationsTotal=3,this.currencyValue=0,this.currencyFactor=10,this.activeDialog="reset",this.isSpecialModeActive$=L(!1),this.hasSpecialModeUnlocked=!1,this.ASSET_IMAGE=Oe,this.destroy$=new R,this.insp1FormControl=new M(!0),this.insp2FormControl=new M(!1),this.insp3FormControl=new M(!1),this.inspirationForm=this.formBuilder.group({insp1:this.insp1FormControl,insp2:this.insp2FormControl,insp3:this.insp3FormControl}),this.platinumFormControl=new M(null),this.goldFormControl=new M(null),this.silverFormControl=new M(null),this.copperFormControl=new M(null),this.currencyForm=this.formBuilder.group({platinum:this.platinumFormControl,gold:this.goldFormControl,silver:this.silverFormControl,copper:this.copperFormControl})}ngOnInit(){this.listenToValueChanges(),this.loadValuesFromStorage()}ngAfterViewInit(){this.listenToDataService()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}showResetConfirmDialog(){this.currencyValue!==0&&(this.activeDialog="reset",this.dialog?.nativeElement.showModal())}closeDialog(){this.dialog?.nativeElement.close()}updateCurrency(c){if(c==="0")this.currencyValue=0,this.closeDialog();else{let o=c==="-"?-1:1;this.currencyValue+=o*(this.copperFormControl.value??0),this.currencyValue+=o*(this.silverFormControl.value??0)*this.currencyFactor,this.currencyValue+=o*(this.goldFormControl.value??0)*Math.pow(this.currencyFactor,2),this.currencyValue+=o*(this.platinumFormControl.value??0)*Math.pow(this.currencyFactor,3)}localStorage.setItem(P.Currency,String(this.currencyValue)),this.currencyForm.reset()}confirmSpecialDialog(){window.open("https://www.tierschutzbund.de/helfen/spenden/jetzt-spenden#fbform","_blank"),setTimeout(()=>{this.hasSpecialModeUnlocked=!0,this.closeDialog()},250)}listenToValueChanges(){this.inspirationForm.valueChanges.pipe(z(this.destroy$)).subscribe(()=>{localStorage.setItem(P.Inspiration,JSON.stringify(this.inspirationForm.value)),this.updateAvailableInspirations()})}loadValuesFromStorage(){this.currencyValue=Number.parseInt(localStorage.getItem(P.Currency)??"0",10);let c=localStorage.getItem(P.Inspiration);c&&this.inspirationForm.patchValue(JSON.parse(c))}updateAvailableInspirations(){this.inspirationsAvailable=(this.insp1FormControl.value?1:0)+(this.insp2FormControl.value?1:0)+(this.insp3FormControl.value?1:0)}listenToDataService(){this.isSpecialModeActive$=this.dataService.isSpecialModeActive().pipe(U(c=>{c&&(this.activeDialog="special",this.dialog?.nativeElement.showModal())}))}};n.\u0275fac=function(o){return new(o||n)(b(fe),b(se),b(ce))},n.\u0275cmp=j({type:n,selectors:[["dnd-base"]],viewQuery:function(o,i){if(o&1&&G(Ae,5),o&2){let v;Y(v=$())&&(i.dialog=v.first)}},decls:40,vars:39,consts:[["dialog",""],["resetDialog",""],["specialDialog",""],["specInsp1",""],["specInsp2",""],["specInsp3",""],[1,"inspiration-container"],[1,"pill-group",3,"formGroup"],[3,"formControl"],[1,"inspiration-subheader","color-subtitle"],[4,"ngIf"],["role","separator","aria-label","Divider",1,"divider"],[1,"currency-container"],[3,"currencyValue","currencyFactor"],[1,"currency-container-form",3,"formGroup"],["currencyDot","platinum","label","BASE.CURRENCY.PLATINUM",3,"formControl",4,"ngIf"],["currencyDot","gold","label","BASE.CURRENCY.GOLD",3,"formControl"],["currencyDot","silver","label","BASE.CURRENCY.SILVER",3,"formControl"],["currencyDot","copper","label","BASE.CURRENCY.COPPER",3,"formControl"],[1,"currency-container-actions"],["text","BASE.ACTIONS.ADD",3,"click","disabled"],["text","BASE.ACTIONS.SUBTRACT",3,"click","disabled"],["text","BASE.ACTIONS.RESET",1,"pt",3,"click","disabled","alternateStyle"],[1,"currency-container-use-platinum"],["label","BASE.CURRENCY.USE_PLATINUM",3,"ngModelChange","ngModel"],[1,"dialog"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[1,"special-mode-gradient"],[1,"pill-group"],[3,"value","specialMode"],["class","inspiration-subheader color-subtitle",4,"ngLet"],["currencyDot","platinum","label","BASE.CURRENCY.PLATINUM",3,"formControl"],[3,"ngTemplateOutlet"],[1,"dialog-title","my-0"],[1,"dialog-content"],[1,"dialog-actions"],["text","BASE.ACTIONS.CANCEL",3,"click"],["text","BASE.ACTIONS.RESET",3,"click","alternateStyle"],[1,"dialog-title","my-0","special-mode"],[1,"weight-black"],["text","BASE.SPECIAL_MODE.ACTIONS.CANCEL",3,"click"],["text","BASE.SPECIAL_MODE.ACTIONS.DONATE",3,"click","alternateStyle"]],template:function(o,i){if(o&1){let v=I();l(0,"div",6)(1,"h3"),d(2),s(3,"translate"),a(),l(4,"form",7),h(5,"dnd-input-inspiration",8)(6,"dnd-input-inspiration",8)(7,"dnd-input-inspiration",8),a(),l(8,"div",9),d(9),s(10,"translate"),a()(),O(11,De,17,15,"ng-container",10),s(12,"async"),h(13,"div",11),l(14,"div",12)(15,"h3"),d(16),s(17,"translate"),a(),h(18,"dnd-currency-display",13),l(19,"form",14),O(20,Ne,1,1,"dnd-input-number",15),s(21,"async"),h(22,"dnd-input-number",16)(23,"dnd-input-number",17)(24,"dnd-input-number",18),a(),l(25,"div",19)(26,"dnd-button",20),_("click",function(){return g(v),C(i.updateCurrency("+"))}),a(),l(27,"dnd-button",21),_("click",function(){return g(v),C(i.updateCurrency("-"))}),a(),l(28,"dnd-button",22),_("click",function(){return g(v),C(i.showResetConfirmDialog())}),a()(),l(29,"div",23)(30,"dnd-input-checkbox",24),J("ngModelChange",function(T){return g(v),W(i.currencyService.usesPlatinum,T)||(i.currencyService.usesPlatinum=T),C(T)}),a()()(),l(31,"dialog",25,0),F(33,26),O(34,ke,1,1,"ng-container",27)(35,Ve,1,1,"ng-container",27),B(),a(),O(36,Re,9,7,"ng-template",null,1,k)(38,Le,16,13,"ng-template",null,2,k)}o&2&&(e(2),w(S(3,23,"BASE.INSPIRATIONS.TITLE",N(35,be))),e(2),r("formGroup",i.inspirationForm),e(),r("formControl",i.insp1FormControl),e(),r("formControl",i.insp2FormControl),e(),r("formControl",i.insp3FormControl),e(2),u(" ",S(10,26,"BASE.INSPIRATIONS.X_OF_Y_ACTIVE",q(36,Te,i.inspirationsAvailable,i.inspirationsTotal))," "),e(2),r("ngIf",m(12,29,i.isSpecialModeActive$)&&i.hasSpecialModeUnlocked),e(5),w(m(17,31,"BASE.CURRENCY.TITLE")),e(2),r("currencyValue",i.currencyValue)("currencyFactor",i.currencyFactor),e(),r("formGroup",i.currencyForm),e(),r("ngIf",m(21,33,i.currencyService.usesPlatinum$)),e(2),r("formControl",i.goldFormControl),e(),r("formControl",i.silverFormControl),e(),r("formControl",i.copperFormControl),e(2),r("disabled",!i.currencyForm.valid),e(),r("disabled",!i.currencyForm.valid),e(),r("disabled",!i.currencyForm.valid||i.currencyValue===0)("alternateStyle",!0),e(2),Q("ngModel",i.currencyService.usesPlatinum),e(3),r("ngSwitch",i.activeDialog),e(),r("ngSwitchCase","reset"),e(),r("ngSwitchCase","special"))},dependencies:[K,ee,H,Z,Ce,me,ue,ge,ae,he,_e,pe,de,ye,Se,Pe,te,ie],styles:["@keyframes _ngcontent-%COMP%_shine-keyframes{to{background-position-x:-500%}}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize;text-wrap:balance;margin-block-start:0}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:40px;line-height:60px;margin-top:0}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:32px;line-height:48px}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:24px;line-height:32px}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:20px;line-height:30px}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:18px;line-height:26px}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.font-weight-black[_ngcontent-%COMP%], .weight-black[_ngcontent-%COMP%]{font-weight:900}.font-weight-bold[_ngcontent-%COMP%], .weight-bold[_ngcontent-%COMP%]{font-weight:700}.font-weight-medium[_ngcontent-%COMP%], .weight-medium[_ngcontent-%COMP%]{font-weight:500}.font-weight-regular[_ngcontent-%COMP%], .weight-regular[_ngcontent-%COMP%]{font-weight:400}.uppercase[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}p[_ngcontent-%COMP%]{font-size:14px;line-height:24px}p.uppercase[_ngcontent-%COMP%]{font-size:16px;line-height:24px}a[_ngcontent-%COMP%]{text-decoration:underline;color:var(--title)}.description[_ngcontent-%COMP%], .description.uppercase[_ngcontent-%COMP%]{font-size:14px;line-height:24px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .input.uppercase[_ngcontent-%COMP%]{font-size:14px;line-height:22px;font-weight:500}.subtitle[_ngcontent-%COMP%], .subtitle.uppercase[_ngcontent-%COMP%]{font-size:18px;line-height:28px}.caption[_ngcontent-%COMP%], .caption.uppercase[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.tiny[_ngcontent-%COMP%], .tiny.uppercase[_ngcontent-%COMP%]{font-size:10px;line-height:16px}[_nghost-%COMP%]{display:flex}@media only screen and (min-width: 769px){[_nghost-%COMP%]{flex-direction:row;justify-content:flex-start;align-items:stretch;gap:var(--large-spacing)}}@media only screen and (max-width: 768px){[_nghost-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:var(--large-spacing)}}[_nghost-%COMP%]   .inspiration-subheader[_ngcontent-%COMP%]{margin-top:var(--medium-spacing)}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{width:1px;background:var(--vertical-gradient);margin-inline:var(--small-spacing)}@media only screen and (max-width: 768px){[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%]{width:min(2 * var(--pill-width) + var(--medium-spacing) + 2px,100%)}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%]   .pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;align-items:flex-start;gap:var(--medium-spacing);width:100%;border-radius:var(--pill-border-radius);background-color:var(--btn-bg-color);border-color:var(--btn-border-color);border-width:1px;border-style:solid}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .currency-container[_ngcontent-%COMP%]{padding-block-end:var(--small-spacing)}[_nghost-%COMP%]   .currency-container-form[_ngcontent-%COMP%], [_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--small-spacing);padding-top:var(--large-spacing)}[_nghost-%COMP%]   .currency-container-use-platinum[_ngcontent-%COMP%]{padding-block-start:var(--medium-spacing)}[_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%]{padding-top:calc(var(--large-spacing) + var(--small-spacing))}[_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%]   .pt[_ngcontent-%COMP%]{padding-top:var(--small-spacing)}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{background-color:var(--bg-neutral2);border-radius:var(--pill-border-radius);border-width:1px;border-color:var(--placeholder)}[_nghost-%COMP%]   .dialog-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{color:var(--title)}[_nghost-%COMP%]   .dialog-title.special-mode[_ngcontent-%COMP%]{white-space:break-spaces;text-align:center}[_nghost-%COMP%]   .dialog-content[_ngcontent-%COMP%]{white-space:pre-line;font-size:14px;line-height:24px}[_nghost-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{padding-top:var(--medium-spacing);display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:var(--medium-spacing)}[_nghost-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   dnd-button[_ngcontent-%COMP%]{width:33%}[_nghost-%COMP%]   [_ngcontent-%COMP%]::backdrop{background-color:var(--bg-neutral2);opacity:.75}[_nghost-%COMP%]   .special-mode-gradient[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffd169,#f4afcf,#aa9ccc 66%,#85cfc1);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}"]});let t=n;return t})();var ze=[{path:"",component:Ie},{path:"**",redirectTo:""}],we=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=x({type:n}),n.\u0275inj=E({imports:[V.forChild(ze),V]});let t=n;return t})();var Ct=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=x({type:n}),n.\u0275inj=E({imports:[re,we,ne,Me,le,ve,Ee,oe.forChild()]});let t=n;return t})();export{Ct as BaseModule};
