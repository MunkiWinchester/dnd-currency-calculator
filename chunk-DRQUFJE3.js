import{A as E,B as g,C as P,D as y,F as A,O as w,P as T,Q as v,R as N,S as B,T as p,U as V,V as x,W as k,X as R,Y as D,_ as j,ba as G,ca as U,da as m,e as S,fa as Y,g as b,h as _,ha as L,i as d,ia as $,ja as J,k as u,p as e,q as M,r as o,s as l,t as s,u as c,v as C,w as h,x as f,y as O,z as I}from"./chunk-RIVCDS56.js";var z=()=>({count:2}),H=(n,t)=>({x:n,y:t}),X=(()=>{let t=class t{constructor(a){this.formBuilder=a,this.inspirationsAvailable=1,this.inspirationsTotal=3,this.currencyValue=0,this.currencyFactor=10,this.ASSET_IMAGE=Y,this.destroy$=new S,this.insp1FormControl=new p(!0),this.insp2FormControl=new p(!1),this.insp3FormControl=new p(!1),this.inspirationForm=this.formBuilder.group({insp1:this.insp1FormControl,insp2:this.insp2FormControl,insp3:this.insp3FormControl}),this.platinumFormControl=new p(null),this.goldFormControl=new p(null),this.silverFormControl=new p(null),this.copperFormControl=new p(null),this.currencyForm=this.formBuilder.group({platinum:this.platinumFormControl,gold:this.goldFormControl,silver:this.silverFormControl,copper:this.copperFormControl})}ngOnInit(){this.listenToValueChanges(),this.loadValuesFromStorage()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateCurrency(a){if(a==="0")this.currencyValue=0;else{let i=a==="-"?-1:1;this.currencyValue+=i*(this.copperFormControl.value??0),this.currencyValue+=i*(this.silverFormControl.value??0)*this.currencyFactor,this.currencyValue+=i*(this.goldFormControl.value??0)*Math.pow(this.currencyFactor,2),this.currencyValue+=i*(this.platinumFormControl.value??0)*Math.pow(this.currencyFactor,3)}localStorage.setItem(m.Currency,String(this.currencyValue)),this.currencyForm.reset()}listenToValueChanges(){this.inspirationForm.valueChanges.pipe(b(this.destroy$)).subscribe(()=>{localStorage.setItem(m.Inspiration,JSON.stringify(this.inspirationForm.value)),this.updateAvailableInspirations()})}loadValuesFromStorage(){this.currencyValue=Number.parseInt(localStorage.getItem(m.Currency)??"0",10);let a=localStorage.getItem(m.Inspiration);a&&this.inspirationForm.patchValue(JSON.parse(a))}updateAvailableInspirations(){this.inspirationsAvailable=(this.insp1FormControl.value?1:0)+(this.insp2FormControl.value?1:0)+(this.insp3FormControl.value?1:0)}};t.\u0275fac=function(i){return new(i||t)(M(R))},t.\u0275cmp=_({type:t,selectors:[["dnd-base"]],decls:25,vars:29,consts:[[1,"inspiration-container"],[1,"pill-group",3,"formGroup"],[3,"formControl"],[1,"inspiration-subheader","color-subtitle"],["role","separator","aria-label","Divider",1,"divider"],[1,"currency-container"],[3,"currencyValue","currencyFactor"],[1,"currency-container-form",3,"formGroup"],["currencyDot","gold","label","BASE.CURRENCY.GOLD",3,"formControl"],["currencyDot","silver","label","BASE.CURRENCY.SILVER",3,"formControl"],["currencyDot","copper","label","BASE.CURRENCY.COPPER",3,"formControl"],[1,"currency-container-actions"],["text","BASE.ACTIONS.ADD",3,"disabled","click"],["text","BASE.ACTIONS.SUBTRACT",3,"disabled","click"],["text","BASE.ACTIONS.RESET",1,"pt",3,"disabled","alternateStyle","click"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"h3"),h(2),g(3,"translate"),s(),l(4,"form",1),c(5,"dnd-input-inspiration",2)(6,"dnd-input-inspiration",2)(7,"dnd-input-inspiration",2),s(),l(8,"div",3),h(9),g(10,"translate"),s()(),c(11,"div",4),l(12,"div",5)(13,"h3"),h(14),g(15,"translate"),s(),c(16,"dnd-currency-display",6),l(17,"form",7),c(18,"dnd-input-number",8)(19,"dnd-input-number",9)(20,"dnd-input-number",10),s(),l(21,"div",11)(22,"dnd-button",12),C("click",function(){return r.updateCurrency("+")}),s(),l(23,"dnd-button",13),C("click",function(){return r.updateCurrency("-")}),s(),l(24,"dnd-button",14),C("click",function(){return r.updateCurrency("0")}),s()()()),i&2&&(e(2),f(y(3,17,"BASE.INSPIRATIONS.TITLE",I(25,z))),e(2),o("formGroup",r.inspirationForm),e(),o("formControl",r.insp1FormControl),e(),o("formControl",r.insp2FormControl),e(),o("formControl",r.insp3FormControl),e(2),O(" ",y(10,20,"BASE.INSPIRATIONS.X_OF_Y_ACTIVE",E(26,H,r.inspirationsAvailable,r.inspirationsTotal))," "),e(5),f(P(15,23,"BASE.CURRENCY.TITLE")),e(2),o("currencyValue",r.currencyValue)("currencyFactor",r.currencyFactor),e(),o("formGroup",r.currencyForm),e(),o("formControl",r.goldFormControl),e(),o("formControl",r.silverFormControl),e(),o("formControl",r.copperFormControl),e(2),o("disabled",!r.currencyForm.valid),e(),o("disabled",!r.currencyForm.valid),e(),o("disabled",!r.currencyForm.valid)("alternateStyle",!0))},dependencies:[G,U,L,$,V,N,B,x,k,w],styles:["@keyframes _ngcontent-%COMP%_shine-keyframes{to{background-position-x:-500%}}[_nghost-%COMP%]{height:100%;display:flex}@media only screen and (min-width: 769px){[_nghost-%COMP%]{flex-direction:row;justify-content:flex-start;align-items:stretch;gap:var(--large-spacing)}}@media only screen and (max-width: 768px){[_nghost-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:var(--large-spacing)}}[_nghost-%COMP%]   .inspiration-subheader[_ngcontent-%COMP%]{margin-top:var(--medium-spacing)}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{width:1px;background:var(--vertical-gradient);margin-inline:var(--small-spacing)}@media only screen and (max-width: 768px){[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%]{width:min(2 * var(--pill-width) + var(--medium-spacing) + 2px,100%)}[_nghost-%COMP%]   .inspiration-container[_ngcontent-%COMP%]   .pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;align-items:flex-start;gap:var(--medium-spacing);width:100%;border-radius:var(--pill-border-radius);background-color:var(--btn-bg-color);border-color:var(--btn-border-color);border-width:1px;border-style:solid}[_nghost-%COMP%]   .currency-container-form[_ngcontent-%COMP%], [_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--small-spacing);padding-top:var(--large-spacing)}[_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%]{padding-top:calc(var(--large-spacing) + var(--small-spacing))}[_nghost-%COMP%]   .currency-container-actions[_ngcontent-%COMP%]   .pt[_ngcontent-%COMP%]{padding-top:var(--small-spacing)}"]});let n=t;return n})();var Q=[{path:"",component:X},{path:"**",redirectTo:""}],q=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d({type:t}),t.\u0275inj=u({imports:[v.forChild(Q),v]});let n=t;return n})();var Ft=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d({type:t}),t.\u0275inj=u({imports:[j,A,q,J,D,T.forChild()]});let n=t;return n})();export{Ft as BaseModule};
